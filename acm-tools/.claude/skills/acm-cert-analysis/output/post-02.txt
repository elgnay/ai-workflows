ACM Hub Cluster Certificate Analysis

━━━ Step 1: Cluster Information

Kubeconfig:    kubeconfig.c2
API Endpoint:  https://api.server-foundation-sno-lite-qrtkx.dev04.red-chesterfield.com:6443
OCP Version:   4.19.3
Current User:  system:admin

━━━ Step 2: Cluster Kube APIServer Certificates

Certificate Type: Custom Certificate (Private CA)
Subject:          CN=api.server-foundation-sno-lite-qrtkx.dev04.red-chesterfield.com
Issuer:           CN=signer1.example.com
Valid Until:      Feb 26 06:13:38 2026 GMT
Root CA Included: No

Certificate Chain:
  [1] Subject: CN=api.server-foundation-sno-lite-qrtkx.dev04.red-chesterfield.com
      Issuer:  CN=signer1.example.com

  [2] Subject: CN=signer1.example.com
      Issuer:  CN=example.com

  [3] Subject: CN=example.com (Not Included)
      Issuer:  CN=example.com

━━━ Step 3: ACM Status and Configuration

✓ ACM Status: INSTALLED
  Version:   2.14.1
  Namespace: open-cluster-management
  Name:      multiclusterhub
  Status:    Running
  ServerVerificationStrategy: UseAutoDetectedCABundle

━━━ Step 4: ACM Certificate Management Analysis

Recommended ServerVerificationStrategy:

  Recommended: UseAutoDetectedCABundle (after adding root CA)
  • ⚠️  ACM may work with current certificates but has rotation risks
  • Certificate rotation with different intermediate CA will cause managed clusters to enter unknown state

  Current: UseAutoDetectedCABundle
  Status: ✓ Matches recommendation

═══════════════════════════════════════════════════════════════

━━━ Step 5: Analysis Summary

OCP API Endpoint: https://api.server-foundation-sno-lite-qrtkx.dev04.red-chesterfield.com:6443
OCP Version: 4.19.3
Certificate Type: Custom-SelfSigned
Root CA Included: No
ACM: Installed (Version 2.14.1)
ServerVerificationStrategy: UseAutoDetectedCABundle

ℹ Configuration Notes

ACM may work with current certificates but has rotation limitations
  • Certificate rotation MUST use the same intermediate CA (CN=signer1.example.com)
  • Without root CA in chain, managed clusters cannot verify certificates signed by different intermediates

Recommended actions:
  1. Add root CA to the certificate chain to enable flexible certificate rotation
  2. Re-run this skill to verify the configuration after adding root CA

Important considerations:
  • ⚠️  Changing intermediate CA or root CA will cause managed clusters to enter unknown state
  • If you need to change intermediate CA or root CA, run skill acm-cert-change-assessment for impact and mitigation guidance

